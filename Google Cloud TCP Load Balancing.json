{"version":13,"variables":[{"key":"gcp_project_id","type":"query","input":"timeseries sum=sum(cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_packets_count), by:{ gcp.project.id }\n| fields gcp.project.id, request_count=arraySum(sum)\n| sort request_count desc\n| fields gcp.project.id","multiple":true},{"key":"top","type":"csv","input":"5, 10, 20 , 50, 100, 500","multiple":false}],"tiles":{"0":{"type":"markdown","title":"","content":"# Google Cloud TCP Load Balancing\n\n"},"1":{"type":"markdown","title":"","content":"Ingress packets by Backend name and Subnetwork"},"2":{"type":"markdown","title":"","content":"Ingress packets by Forwarding rule"},"3":{"type":"markdown","title":"","content":"Ingress packets by Client country"},"4":{"type":"markdown","title":"","content":"Ingress packets by Network"},"6":{"type":"markdown","title":"","content":"Ingress bytes by Forwarding rule"},"7":{"type":"markdown","title":"","content":"Egress packets by Backend name and Subnetwork"},"8":{"type":"markdown","title":"","content":"Egress packets by Forwarding rule"},"9":{"type":"markdown","title":"","content":"Egress bytes by Backend name and Forwarding rule"},"10":{"type":"markdown","title":"","content":"Egress bytes by Backend name and Subnetwork"},"12":{"type":"markdown","title":"","content":"## Performance\n"},"13":{"type":"data","title":"Ingress packets  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_packets_count`), by:{ backend_subnetwork_name, backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields `backend_subnetwork_name|backend_name|gcp.project.id`=concat(backend_subnetwork_name,\" | \", backend_name), ingress_packets=arraySum(sum)\n|sort ingress_packets desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name|backend_name|gcp.project.id","valueAxis":"ingress_packets","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"vertical"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"ingress_packets","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"14":{"type":"data","title":"Ingress packets (sum)","query":"timeseries ingress_packets=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_packets_count`), by:{ backend_subnetwork_name,backend_name,`dt.entity.cloud:gcp:network_lb_rule`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(ingress_packets) desc\n|limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name","valueAxis":"interval","categoryAxisLabel":"backend_subnetwork_name","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["ingress_packets"],"leftAxisDimensions":["backend_subnetwork_name","backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","ingress_packets"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"15":{"type":"data","title":"Ingress packets  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_packets_count`), by:{ backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields backend_name, ingress_packets=arraySum(sum)\n|sort ingress_packets desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"ingress_packets","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"ingress_packets","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"16":{"type":"data","title":"Ingress packets (sum)","query":"timeseries ingress_packets=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_packets_count` ), by:{ backend_name,`dt.entity.cloud:gcp:network_lb_rule` }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(ingress_packets) desc\n|limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"interval","categoryAxisLabel":"backend_name","valueAxisLabel":"interval","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["ingress_packets"],"leftAxisDimensions":["backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"colorPalette":"categorical","hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","ingress_packets"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"17":{"type":"markdown","title":"","content":"Ingress bytes by Backend name and Subnetwork"},"19":{"type":"data","title":"Ingress bytes  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_bytes_count`), by:{ backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields backend_name, ingress_bytes=arraySum(sum)\n|sort ingress_bytes desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"ingress_bytes","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"ingress_bytes","rangeAxis":""}]},"honeycomb":{"shape":"square"},"unitsOverrides":[{"identifier":"ingress_bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1711306905844}]}},"20":{"type":"data","title":"Ingress bytes (sum)","query":"timeseries ingress_bytes=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_bytes_count`), by:{ backend_subnetwork_name,backend_name,`dt.entity.cloud:gcp:network_lb_rule`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(ingress_bytes) desc\n|limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name","valueAxis":"interval","categoryAxisLabel":"backend_subnetwork_name","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["ingress_bytes"],"leftAxisDimensions":["backend_subnetwork_name","backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","ingress_bytes"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"21":{"type":"data","title":"Ingress bytes  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_bytes_count`), by:{ backend_subnetwork_name, backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields `backend_subnetwork_name|backend_name`=concat(backend_subnetwork_name,\" | \", backend_name), ingress_bytes=arraySum(sum)\n|sort ingress_bytes desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name|backend_name","valueAxis":"ingress_bytes","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"vertical"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"ingress_bytes","rangeAxis":""}]},"honeycomb":{"shape":"square"},"unitsOverrides":[{"identifier":"ingress_bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1711306785731}]}},"22":{"type":"data","title":"Ingress bytes (sum)","query":"timeseries ingress_bytes=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_bytes_count`), by:{ backend_name,`dt.entity.cloud:gcp:network_lb_rule` }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(ingress_bytes) desc\n|limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"interval","categoryAxisLabel":"backend_name","valueAxisLabel":"interval","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["ingress_bytes"],"leftAxisDimensions":["backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"colorPalette":"categorical","hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","ingress_bytes"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"23":{"type":"data","title":"Egress bytes (sum)","query":"timeseries egress_bytes=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_bytes_count`), by:{ backend_name ,`dt.entity.cloud:gcp:network_lb_rule`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(egress_bytes) desc\n|limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"interval","categoryAxisLabel":"backend_name","valueAxisLabel":"interval","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["egress_bytes"],"leftAxisDimensions":["backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"colorPalette":"categorical","hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","egress_bytes"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"24":{"type":"data","title":"Egress bytes (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_bytes_count`), by:{ backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields backend_name, egress_bytes=arraySum(sum)\n|sort egress_bytes desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"egress_bytes","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"egress_bytes","rangeAxis":""}]},"honeycomb":{"shape":"square"},"unitsOverrides":[{"identifier":"egress_bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1711307412941}]}},"25":{"type":"data","title":"Egress bytes (sum)","query":"timeseries egress_bytes=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_bytes_count`), by:{ backend_subnetwork_name,backend_name,`dt.entity.cloud:gcp:network_lb_rule`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(egress_bytes) desc\n|limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name","valueAxis":"interval","categoryAxisLabel":"backend_subnetwork_name","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["egress_bytes"],"leftAxisDimensions":["backend_subnetwork_name","backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","egress_bytes"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"26":{"type":"data","title":"Egress bytes  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_bytes_count`), by:{ backend_subnetwork_name, backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields `backend_subnetwork_name|backend_name`=concat(backend_subnetwork_name,\" | \", backend_name), egress_bytes=arraySum(sum)\n|sort egress_bytes desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name|backend_name","valueAxis":"egress_bytes","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"vertical"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"egress_bytes","rangeAxis":""}]},"honeycomb":{"shape":"square"},"unitsOverrides":[{"identifier":"egress_bytes","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1711307299741}]}},"27":{"type":"data","title":"Egress packets (sum)","query":"timeseries egress_packets=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_packets_count` ), by:{ backend_name,`dt.entity.cloud:gcp:network_lb_rule` }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(egress_packets) desc\n|limit toLong($top)\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"interval","categoryAxisLabel":"backend_name","valueAxisLabel":"interval","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["egress_packets"],"leftAxisDimensions":["backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"colorPalette":"categorical","hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","egress_packets"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"28":{"type":"data","title":"Egress packets (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_packets_count`), by:{ backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields backend_name, egress_packets=arraySum(sum)\n|sort egress_packets desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_name","valueAxis":"egress_packets","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"egress_packets","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"29":{"type":"data","title":"Egress packets (sum)","query":"timeseries egress_packets=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_packets_count`), by:{ backend_subnetwork_name,backend_name,`dt.entity.cloud:gcp:network_lb_rule`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arraySum(egress_packets) desc\n|limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name","valueAxis":"interval","categoryAxisLabel":"backend_subnetwork_name","valueAxisLabel":"interval"},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["egress_packets"],"leftAxisDimensions":["backend_subnetwork_name","backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","egress_packets"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"30":{"type":"data","title":"Egress packets  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_packets_count`), by:{ backend_subnetwork_name,backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields `backend_subnetwork_name|backend_name`=concat(backend_subnetwork_name,\" | \", backend_name), egress_packets=arraySum(sum)\n|sort egress_packets desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"absolute"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name|backend_name","valueAxis":"egress_packets","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"horizontal","colorPaletteMode":"multi-color","categoryAxisTickLayout":"vertical"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"egress_packets","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"31":{"type":"data","title":"Ingress packets  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_packets_count`), by:{ network_name,backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields `network_name|backend_name`=concat(network_name,\" | \", backend_name), ingress_packets=arraySum(sum)\n|sort ingress_packets desc\n\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"donutChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"number-of-slices","groupingThresholdValue":10,"valueType":"absolute","showTotalValue":true},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"network_name|backend_name","valueAxis":"ingress_packets","categoryAxisLabel":"network_name|backend_name","valueAxisLabel":"ingress_packets","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"ingress_packets","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"33":{"type":"markdown","title":"","content":"RTT latencies [ms] by Backend name and Subnetwork"},"34":{"type":"data","title":"RTT latencies  (avg)","query":"timeseries avg=avg(`cloud.gcp.loadbalancing_googleapis_com.l3.external.rtt_latencies`), by:{ backend_subnetwork_name,backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields `backend_subnetwork_name|backend_name`=concat(backend_subnetwork_name,\" | \", backend_name), rtt_latencies=arrayAvg(avg)\n|sort rtt_latencies desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"categoricalBarChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"absolute","groupingThresholdValue":0,"valueType":"absolute","hideLabels":false},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name|backend_name","valueAxis":"rtt_latencies","categoryAxisLabel":"","valueAxisLabel":"","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"unitsOverrides":[{"identifier":"rtt_latencies (avg)","unitCategory":"time","baseUnit":"millisecond","displayUnit":null,"decimals":2,"suffix":"","delimiter":false,"added":1710442346177}],"histogram":{"dataMappings":[{"valueAxis":"rtt_latencies","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"35":{"type":"data","title":"RTT latencies (avg)","query":"timeseries rtt_latencies=avg(`cloud.gcp.loadbalancing_googleapis_com.l3.external.rtt_latencies`), by:{ backend_subnetwork_name,backend_name,`dt.entity.cloud:gcp:network_lb_rule`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|sort arrayAvg(rtt_latencies) desc\n|limit toLong($top)\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"lineChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"backend_subnetwork_name","valueAxis":"interval","categoryAxisLabel":"backend_subnetwork_name","valueAxisLabel":"interval","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"fieldMapping":{"timestamp":"timeframe","leftAxisValues":["rtt_latencies"],"leftAxisDimensions":["backend_subnetwork_name","backend_name","dt.entity.cloud:gcp:network_lb_rule"],"fields":[],"values":[]},"colorPalette":"categorical","hiddenLegendFields":["dt.entity.cloud:gcp:network_lb_rule","rtt_latencies"]},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"interval","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"36":{"type":"markdown","title":"","content":"## Link\nclick on `gcp.project.id` or on `backend_name` + **[â†—] Open with** + **Cloud**"},"38":{"type":"data","title":"TCP Load balancing - Ingress","query":"timeseries ingress_bytes_count=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_bytes_count`), by:{backend_name, gcp.project.id, `dt.entity.cloud:gcp:network_lb_rule`,`dt.entity.cloud:gcp:project`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields  gcp.project.id,`dt.entity.cloud:gcp:project`, backend_name,`dt.entity.cloud:gcp:network_lb_rule`, `ingress_bytes (sum)`=arraySum(ingress_bytes_count)\n|sort `ingress_bytes (sum)` desc\n|limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"gcp.project.id","categoryAxisLabel":"gcp.project.id","valueAxis":"ingress_bytes (sum)","valueAxisLabel":"ingress_bytes (sum)"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"backend_name","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["dt.entity.cloud:gcp:project"],["dt.entity.cloud:gcp:network_lb_rule"]],"lineWrapIds":[],"columnWidths":{"[\"gcp.project.id\"]":142.703125,"[\"dt.entity.cloud:gcp:network_lb_rule\"]":264.90625}},"histogram":{"dataMappings":[{"valueAxis":"ingress_bytes (sum)","rangeAxis":""}]},"honeycomb":{"shape":"square"},"unitsOverrides":[{"identifier":"ingress_byte (sum)","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":true,"added":1711308077697}]}},"39":{"type":"data","title":"Ingress packets  (sum)","query":"timeseries sum=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.ingress_packets_count`), by:{ client_country,backend_name }, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields `client_country|backend_name`=concat(client_country,\" | \", backend_name), ingress_packets=arraySum(sum)\n|sort ingress_packets desc\n\n\n","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"donutChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"number-of-slices","groupingThresholdValue":10,"valueType":"absolute","showTotalValue":true},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"client_country|backend_name","valueAxis":"ingress_packets","categoryAxisLabel":"client_country|backend_name","valueAxisLabel":"ingress_packets","scale":"absolute","layout":"vertical","colorPaletteMode":"multi-color","categoryAxisTickLayout":"horizontal"},"legend":{"position":"auto","hidden":false},"colorPalette":"categorical"},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"error","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[],"lineWrapIds":[],"columnWidths":{"[\"concat(backend_subnetwork_name, \\\" | \\\", backend_name, \\\" | \\\", gcp.project.id, \\\" | \\\", `dt.entity.cloud:gcp:network_lb_rule`)\"]":1160,"[\"concat\"]":902}},"histogram":{"dataMappings":[{"valueAxis":"ingress_packets","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"40":{"type":"markdown","title":"","content":"## Ingress - usage  "},"41":{"type":"markdown","title":"","content":"## Egress - usage  "},"42":{"type":"data","title":"TCP Load balancing - Egress","query":"timeseries egress_bytes_count=sum(`cloud.gcp.loadbalancing_googleapis_com.l3.external.egress_bytes_count`), by:{backend_name, gcp.project.id, `dt.entity.cloud:gcp:network_lb_rule`,`dt.entity.cloud:gcp:project`}, filter:in(gcp.project.id, $gcp_project_id)\n|filter backend_name!=\"\"\n|fields  gcp.project.id,`dt.entity.cloud:gcp:project`,backend_name, `dt.entity.cloud:gcp:network_lb_rule`, `egress_bytes (sum)`=arraySum(egress_bytes_count)\n|sort `egress_bytes (sum)` desc\n|limit toLong($top)","davis":{"enabled":false,"davisVisualization":{"isAvailable":true}},"visualization":"table","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"groupingThresholdType":"relative","groupingThresholdValue":0,"valueType":"relative"},"categoryOverrides":{},"categoricalBarChartSettings":{"categoryAxis":"gcp.project.id","categoryAxisLabel":"gcp.project.id","valueAxis":"egress_bytes (sum)","valueAxisLabel":"egress_bytes (sum)"}},"singleValue":{"showLabel":true,"label":"","prefixIcon":"","recordField":"backend_name","autoscale":true,"alignment":"center","colorThresholdTarget":"value"},"table":{"rowDensity":"condensed","enableSparklines":false,"hiddenColumns":[["dt.entity.cloud:gcp:project"],["dt.entity.cloud:gcp:network_lb_rule"]],"lineWrapIds":[],"columnWidths":{"[\"gcp.project.id\"]":142.703125,"[\"dt.entity.cloud:gcp:network_lb_rule\"]":264.90625}},"histogram":{"dataMappings":[{"valueAxis":"egress_bytes (sum)","rangeAxis":""}]},"honeycomb":{"shape":"square"},"unitsOverrides":[{"identifier":"egress_bytes (sum)","unitCategory":"data","baseUnit":"byte","displayUnit":null,"decimals":2,"suffix":"","delimiter":true,"added":1711308077697}]}},"43":{"type":"markdown","title":"","content":"TCP Load Balancing is used to distribute the sessions based on incoming IP protocol data, such as address, port, and protocol type. \n\nGCP metrics are filtered by `gcp_project_id`, splitted by some dimension(s) and aggregated by \n- `sum` = sum of period and the other dimensions (example `count`), or\n- `avg` = average over the period and over the other dimensions (example `latency`).\n"}},"layouts":{"0":{"x":0,"y":0,"w":12,"h":2},"1":{"x":0,"y":3,"w":12,"h":1},"2":{"x":12,"y":3,"w":12,"h":1},"3":{"x":0,"y":15,"w":6,"h":1},"4":{"x":6,"y":15,"w":6,"h":1},"6":{"x":12,"y":9,"w":12,"h":1},"7":{"x":0,"y":22,"w":12,"h":1},"8":{"x":12,"y":22,"w":12,"h":1},"9":{"x":12,"y":28,"w":12,"h":1},"10":{"x":0,"y":28,"w":12,"h":1},"12":{"x":0,"y":34,"w":24,"h":1},"13":{"x":0,"y":4,"w":6,"h":5},"14":{"x":6,"y":4,"w":6,"h":5},"15":{"x":12,"y":4,"w":6,"h":5},"16":{"x":18,"y":4,"w":6,"h":5},"17":{"x":0,"y":9,"w":12,"h":1},"19":{"x":12,"y":10,"w":6,"h":5},"20":{"x":6,"y":10,"w":6,"h":5},"21":{"x":0,"y":10,"w":6,"h":5},"22":{"x":18,"y":10,"w":6,"h":5},"23":{"x":18,"y":29,"w":6,"h":5},"24":{"x":12,"y":29,"w":6,"h":5},"25":{"x":6,"y":29,"w":6,"h":5},"26":{"x":0,"y":29,"w":6,"h":5},"27":{"x":18,"y":23,"w":6,"h":5},"28":{"x":12,"y":23,"w":6,"h":5},"29":{"x":6,"y":23,"w":6,"h":5},"30":{"x":0,"y":23,"w":6,"h":5},"31":{"x":6,"y":16,"w":6,"h":5},"33":{"x":0,"y":35,"w":13,"h":1},"34":{"x":0,"y":36,"w":6,"h":5},"35":{"x":6,"y":36,"w":6,"h":5},"36":{"x":0,"y":41,"w":24,"h":2},"38":{"x":0,"y":43,"w":12,"h":7},"39":{"x":0,"y":16,"w":6,"h":5},"40":{"x":0,"y":2,"w":12,"h":1},"41":{"x":0,"y":21,"w":24,"h":1},"42":{"x":12,"y":43,"w":12,"h":7},"43":{"x":12,"y":0,"w":12,"h":3}}}